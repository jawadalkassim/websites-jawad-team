var currentTab=0,progress=0;function showTab(e,t){var a=document.getElementsByClassName("tab"),l=document.getElementsByClassName("animation");a[e].style.display="block",t>0?(l[e].classList.add("animate-slide-next"),setTimeout(()=>{l[e].classList.remove("animate-slide-next")},250)):t<0&&(l[e].classList.add("animate-slide-prev"),setTimeout(()=>{l[e].classList.remove("animate-slide-prev")},250)),progress=e/a.length*100;for(var n=0;n<a.length;n++)a[n].querySelector(".myBar").style.width=`${progress}%`;fixStepIndicator(e)}function nextPrev(e){var t=document.getElementsByClassName("tab");if(1===e&&!validateForm())return!1;if(t[currentTab].style.display="none",(currentTab+=e)>=t.length){let a=document.getElementById("regForm"),l=document.getElementById("spiner"),n=document.getElementById("thankYouMessage");return a.classList.add("hidden"),l.classList.remove("hidden"),l.classList.add("flex"),n.classList.remove("hidden"),window.innerWidth<=769?spinerToMobile():spinerToDesk(),!1}showTab(currentTab,e)}function spinerToMobile(){window.scroll({top:492,left:0,behavior:"smooth"})}function spinerToDesk(){window.scroll({top:400,left:0,behavior:"smooth"})}function moveToNextInput(e){var t,a=e.target,l=parseInt(a.getAttribute("maxlength"),10);if(a.value.length>=l){switch(a.id){case"dob-month":t="dob-day";break;case"dob-day":t="dob-year";break;case"dob-year":t=""}t&&document.getElementById(t).focus()}}function correctDate(e){var t=e.target,a=t.value;1===a.length&&(t.value="0"+a)}function validateDate(){var e=document.getElementById("dob-month").value.trim(),t=document.getElementById("dob-day").value.trim(),a=document.getElementById("dob-year").value.trim(),l=document.getElementById("date-error"),n=parseInt(e,10),r=parseInt(t,10),i=parseInt(a,10);let o={allFieldsRequired:"All fields are required.",invalidMonth:"Please input a valid Month",invalidDay:"Please input a valid Day",invalidYear:"Please input a valid Year"};return""===e&&""===t&&""===a?(l.innerText=o.allFieldsRequired,l.style.color="red",!1):isNaN(n)||n<1||n>12?(l.innerText=o.invalidMonth,l.style.color="red",!1):isNaN(r)||r<1||r>31?(l.innerText=o.invalidDay,l.style.color="red",!1):isNaN(i)||4!==a.length?(l.innerText=o.invalidYear,l.style.color="red",!1):(l.innerText="",!0)}function validateForm(){var e,t,a,l=!0,n=/^\(?([0-9]{3})\)?[-.\s]?([0-9]{3})[-.\s]?([0-9]{4})$/,r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;for(a=0,t=(e=document.getElementsByClassName("tab"))[currentTab].getElementsByTagName("input");a<t.length;a++)t[a].hasAttribute("data-store")||""!==t[a].value||(t[a].className+=" invalid",l=!1);if(2===currentTab){if(validateDate())return!0;l=!1}if(3===currentTab){var i=document.getElementById("fName").value,o=document.getElementById("lName").value,s=document.getElementById("email").value,d=document.getElementById("phone").value,u=document.getElementById("zip").value;if(d.match(n)&&s.match(r)&&""!==i&&""!==o&&5===u.length)return!0;""===i&&""===o?(document.getElementById("error").innerText="please input a valid name",document.getElementById("error").style.color="red",l=!1):5!==u.length?(document.getElementById("error").innerText="please input a valid zip code",document.getElementById("error").style.color="red",l=!1):s.match(r)?d.match(n)?(document.getElementById("error").innerText="please fill fields",document.getElementById("error").style.color="red",l=!1):(document.getElementById("error").innerText="please input a valid phone number",document.getElementById("error").style.color="red",l=!1):(document.getElementById("error").innerText="please input a valid email",document.getElementById("error").style.color="red",l=!1)}return l&&(document.getElementsByClassName("step")[currentTab].className+=" finish"),l}function thankYouMessage(){document.getElementById("regForm").style.display="none",document.getElementById("thankYouMessage").style.display="block"}function fixStepIndicator(e){var t,a=document.getElementsByClassName("step");for(t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active",""),a[t].style.display="none";a[e].className+=" active"}showTab(currentTab),document.getElementById("dob-month").addEventListener("input",moveToNextInput),document.getElementById("dob-day").addEventListener("input",moveToNextInput),document.getElementById("dob-year").addEventListener("input",moveToNextInput),document.getElementById("dob-month").addEventListener("blur",correctDate),document.getElementById("dob-day").addEventListener("blur",correctDate),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("phone");e.addEventListener("input",function(e){let t=e.target,a=t.value.replace(/\D/g,""),l=a.length;l>3&&l<=6?t.value=`${a.slice(0,3)}-${a.slice(3)}`:l>6?t.value=`${a.slice(0,3)}-${a.slice(3,6)}-${a.slice(6,10)}`:t.value=a})}),zip.addEventListener("input",()=>{zip.value=zip.value.replace(/\D/g,"").slice(0,5)});let steps=document.querySelectorAll("[data-tab]");steps.forEach(e=>{let t=e.querySelector("input");e.querySelectorAll("[data-btn]").forEach(e=>{e.addEventListener("click",()=>{let a=e.innerHTML.trim().slice(0,3).replace(",","");t.value=a})})}),document.getElementById("regForm").addEventListener("submit",function(e){e.preventDefault();let t=document.querySelector('input[name="firstName"]').value,a=document.querySelector('input[name="lastName"]').value,l=document.querySelector('input[name="email"]').value,n=document.querySelector('input[name="phone"]').value,r=document.querySelector('input[name="zip"]').value,i=document.getElementById("dob-day").value,o=document.getElementById("dob-month").value,s=document.getElementById("dob-year").value,d=document.querySelector('input[name="accident"]').value,u=document.querySelector('input[name="lawyer"]').value;if(""===t||""===a||""===l||""===n||""===r)return;let m={firstName:t,lastName:a,email:l,phone:n,postalCode:r,tags:["fb","walker"],customField:{Aar7YhsdWr8QHDhFxgXu:u,q58lSj64V7sXLdnTwO5z:document.querySelector('input[name="xxTrustedFormCertUrl"]').value,sO3W2ZWvrDD783qu6y5N:`${s}-${o}-${i}`,Bys6WHtPrPBurzDIwAAY:redtrackClickId,jFxp7hBrEOAeAze971OI:document.querySelector('input[name="universal_leadid"]').value,XVEWr9Urw53TlySskNCU:d}};console.log(m);try{fetch("https://rest.gohighlevel.com/v1/contacts/",{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJsb2NhdGlvbl9pZCI6Ilhzc3ZQY2VIalFaQmFGUXpXSXZkIiwiY29tcGFueV9pZCI6IlllWEViQVhBeTJIejlPY2lpdjJ1IiwidmVyc2lvbiI6MSwiaWF0IjoxNjk2Mjg1Mjg1MTU3LCJzdWIiOiJ1c2VyX2lkIn0.2g3SztjzHQKpJeYEmaDVvRQT3W1NRdSe8nBRqFAysdE","Content-Type":"application/json"},body:JSON.stringify(m),method:"POST"}).then(e=>e.json()).then(e=>{console.log(e),setTimeout(()=>{window.location.href="./thank-you.html"},500)}).catch(e=>{console.log(e)})}catch(c){console.log(c),setTimeout(()=>{window.location.href="./thank-you.html"},500)}});